@if (task(); as task) {
<div class="two-column-grid pd-20 mn-ht-100p" resizedCss>
  <wbs-task-details-card [entry]="state.entry()!" [task]="task" />
  <wbs-discipline-card
    [splitLimit]="750"
    [alertIfEmpty]="true"
    [fullList]="disciplineFullList()"
    [selectedList]="task?.disciplines ?? []"
    noDisciplinesLabel="Library.NoDisciplinesTask"
    [canEdit]="claims() | check : UPDATE_CLAIM"
    [editRoute]="['../', 'settings', 'disciplines']"
  />
  <wbs-description-card
    [(askAi)]="askAi"
    [(editMode)]="descriptionEditMode"
    [description]="task.description ?? ''"
    noDescriptionLabel="Library.NoDescriptionTask"
    (descriptionChange)="descriptionChange($event)"
  />

  @if (saveState() === 'saving') {
  <wbs-saving-alert />
  } @else if (saveState() === 'saved') {
  <wbs-alert
    type="success"
    message="Library.DescriptionSaved"
    (closed)="saveState.set(undefined)"
  />
  }
</div>
}
