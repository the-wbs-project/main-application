@if (task(); as task) {
{{ taskId() }}
<div class="two-column-grid pd-20" resizedCss>
  <div class="card border">
    <div class="card-header tx-uppercase">
      {{ "Projects.BasicInformation" | translate }}
    </div>
    <div class="card-body">
      <wbs-task-details-card [entryType]="state.entry()!.type" [task]="task" />
    </div>
  </div>
  <div class="card border">
    <div class="card-header tx-uppercase">
      {{ "General.Disciplines" | translate }}
    </div>
    @if (task.disciplines.length > 0) {

    <div class="card-body">
      <wbs-discipline-list
        [selectedList]="task.disciplines"
        [fullList]="state.version()!.disciplines"
      />
    </div>
    } @else {
    <div class="card-body tx-center">
      <p class="text-danger">
        <fa-icon [icon]="faTriangleExclamation" size="2xl" />
        <br />
        <br />
        {{ "Projects.NoDisciplines" | translate }}
      </p>
      @if (claims() | check : canEditClaim) {
      <a class="btn btn-dark" [routerLink]="['../', 'settings', 'disciplines']">
        <fa-icon [icon]="faTools" />
        &nbsp;
        {{ "Projects.Fix" | translate }}
      </a>
      }
    </div>
    }
  </div>
  <wbs-description-card
    [ngClass]="'card border full-item'"
    [title]="task.title"
    [description]="task.description"
    (descriptionChange)="descriptionChange($event)"
  />

  @if (saveState() === 'saving') {
  <wbs-saving-alert />
  } @else if (saveState() === 'saved') {
  <wbs-alert
    type="success"
    message="Library.DescriptionSaved"
    (closed)="saveState.set(undefined)"
  />
  }
</div>
}
