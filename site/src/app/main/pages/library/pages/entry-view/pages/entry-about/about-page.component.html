<div class="w-100 text-center h-100">
  <div class="d-ib text-start w-100 h-100 mx-w-1200">
    <div class="two-column-grid pd-20 mn-ht-100p" resizedCss>
      <wbs-details-card [entry]="state.entry()!" [version]="state.version()!" />
      <wbs-discipline-card
        [splitLimit]="650"
        [fullList]="disciplines()"
        [selectedList]="state.version()?.disciplines ?? []"
        noDisciplinesLabel="Library.NoDisciplinesEntry"
        [canEdit]="claims() | check : UPDATE_CLAIM"
        [editRoute]="['../', 'settings', 'disciplines']"
      />
      <wbs-description-card
        [(askAi)]="askAi"
        [(editMode)]="descriptionEditMode"
        [description]="state.version()?.description ?? ''"
        noDescriptionLabel="Library.NoDescriptionEntry"
        (descriptionChange)="descriptionChange($event)"
      />
    </div>
  </div>
</div>

@if (askAi()) {
<kendo-dialog
  height="100%"
  [title]="'General.AskAi' | translate"
  [width]="modal.dialogWidth()"
  (close)="askAi.set(false)"
>
  <wbs-description-ai-dialog
    [versionTitle]="state.version()!.title"
    [description]="state.version()!.description"
    (descriptionChange)="aiChangeSaved($event)"
  />
</kendo-dialog>
}
