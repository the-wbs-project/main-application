<div class="container-fluid">
  <div class="row mg-b-20">
    <div class="col-lg-8 col-md-12 pd-lg-b-0 pd-md-b-20">
      <input
        type="text"
        [(ngModel)]="textFilter"
        class="form-control w-100"
        placeholder="Search by name or email"
        (input)="updateState()"
      />
    </div>
    <div class="col-lg-4 col-md-12">
      <kendo-dropdownlist
        size="medium"
        class="w-100"
        [data]="roles"
        [(value)]="role"
        textField="text"
        valueField="name"
        [valuePrimitive]="true"
        (valueChange)="updateState()"
      >
        <ng-template
          kendoDropDownListItemTemplate
          kendoDropDownListValueTemplate
          let-dataItem
        >
          {{ dataItem.text | translate }}
        </ng-template>
      </kendo-dropdownlist>
    </div>
  </div>
  <div class="row mg-b-20">
    <div class="col-12 tx-right">
      <span class="pd-r-10">
        {{ members()?.length ?? 0 }} / Unlimited Seats
      </span>
      <button class="btn btn-sm btn-primary">
        <kendo-svg-icon [icon]="plusIcon" />
        Invite Members
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <table class="table table-striped table-bordered">
        <thead class="thead-light">
          <tr>
            <th scope="col" class="wd-40">&nbsp;</th>
            <th
              scope="col"
              class="pointer"
              [sortable]="'name'"
              [state]="state()"
            >
              {{ "General.Name" | translate }} &nbsp;
              <wbs-sort-arrow [state]="state()" field="name" />
            </th>
            <th
              scope="col"
              class="pointer d-md-none d-lg-table-cell"
              [sortable]="'email'"
              [state]="state()"
            >
              {{ "General.Email" | translate }} &nbsp;
              <wbs-sort-arrow [state]="state()" field="email" />
            </th>
            <th scope="col">{{ "General.Roles" | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let member of members() | tableProcess : state()">
            <td>
              <kendo-dropdownbutton
                fillMode="link"
                size="small"
                buttonClass="tx-8 pd-0-f"
                [svgIcon]="gearIcon"
                [data]="menu"
                (itemClick)="userActionClicked(member, $event.action)"
              >
                <ng-template kendoDropDownButtonItemTemplate let-dataItem>
                  <div class="pd-y-2">
                    <kendo-svg-icon [icon]="dataItem.svgIcon" />
                    <span> {{ dataItem.text | translate }} </span>
                  </div>
                </ng-template>
              </kendo-dropdownbutton>
            </td>
            <td>{{ member.name }}</td>
            <td class="d-md-none d-lg-table-cell">{{ member.email }}</td>
            <td>{{ member.roles | roleList : true }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
