<kendo-dialog
  #dialog
  [width]="modal.dialogWidth()"
  [height]="modal.dialogHeight()"
  (close)="closed()"
>
  <div class="card mb-0 tx-13">
    <div class="card-header pd-l-5 pd-t-0 pd-b-5 pd-r-0">
      <div class="d-flex flex-align-center">
        <div class="wd-50 tx-center mg-r-20">
          <fa-icon [icon]="faDiagramSubtask" size="2x" />
        </div>
        <wbs-entry-title
          [title]="task()!.title"
          [canEdit]="entryStore.canEditTask()"
          (titleChange)="titleChanged($event)"
        />
        <wbs-save-message [state]="titleSave.state()" cssClass="tx-12" />
        <div class="flex-fill text-end">
          <button kendoButton fillMode="flat" (click)="dialog.close.emit()">
            <fa-icon [icon]="closeIcon" />
          </button>
        </div>
      </div>
    </div>
    <div class="card-header py-0 mg-b-0 bg-dark">
      <wbs-navigation
        [menu]="links()"
        [activeSubSection]="entryStore.navSectionTask()"
        (navigate)="navigate($event)"
      />
    </div>
    <div class="card-body border bd-gray-500 p-0 rounded-10 w-100 bg-light">
      <router-outlet />
    </div>
  </div>
  <kendo-dialog-actions layout="start">
    <wbs-task-modal-footer [task]="task()!" />
  </kendo-dialog-actions>
</kendo-dialog>
