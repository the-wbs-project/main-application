@let versionVm = version()!; @let taskVm = task();

<div class="card-header">
  {{ "General.Details" | translate }}
</div>
<div class="card-body">
  <div class="wbs-detail-card">
    <div class="detail-header">{{ "General.Organization" | translate }} :</div>
    <div>{{ versionVm.ownerName }}</div>

    <div class="detail-header">{{ "Wbs.WBS" | translate }} :</div>
    <div>{{ version().title }}</div>

    <div class="detail-header">{{ "General.Level" | translate }} :</div>
    <div>{{ taskVm.levelText }}</div>

    @if (versionVm.type !== 'task') {
    <div class="detail-header">{{ "Wbs.Phase" | translate }} :</div>
    <div>
      @if (taskVm.phaseId) {
      <a
        class="text-decoration-none"
        [routerLink]="['../../', taskVm.phaseId, 'about']"
      >
        {{ taskVm.phaseLabel }}
      </a>
      } @else {
      {{ "General.None" | translate }}
      }
    </div>
    }

    <div class="detail-header">{{ "General.Parent" | translate }} :</div>
    <div>
      @if (parent(); as parent) {
      <a
        class="text-decoration-none"
        [routerLink]="['../../', parent.id, 'about']"
      >
        {{ parent.title }}
      </a>
      } @else {
      {{ "General.None" | translate }}
      }
    </div>

    <div class="detail-header">{{ "General.LastModified" | translate }} :</div>
    <div>{{ taskVm.lastModified | dateText }}</div>

    <div class="detail-header">{{ "Wbs.SubTaskCount" | translate }} :</div>
    <div>{{ taskVm.children }}</div>
  </div>
</div>
