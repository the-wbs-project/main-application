<div class="display-flex mg-t-20 mg-b-16 w-100p">
  <div class="flex-fill main-content-title mg-b-0 mg-b-lg-1">
    {{ "Pages.Projects" | translate | uppercase }}
    &nbsp;
    <a kendoButton [routerLink]="['/', 'projects', 'create']">
      <fa-icon [icon]="faPlus" size="xs" />
    </a>
  </div>
  <div class="flex-fill">
    <div
      *ngIf="status$ | async; let projectStatus"
      role="group"
      class="btn-group display-flex flex-wrap"
    >
      <button
        type="button"
        *ngFor="let status of stati"
        class="btn btn-outline-primary btn-sm"
        [routerLinkActive]="'active'"
        [routerLink]="['../', status]"
      >
        {{ status | projectStatus }}
      </button>
    </div>
  </div>
</div>
<div
  *ngIf="
    projects$ | async | projectStatusFilter : (status$ | async);
    let projects
  "
  class="wd-100p mg-t-20"
>
  <div class="container-fluid">
    <div class="row">
      <div *ngIf="projects.length === 0" class="col-12">
        <div class="card">
          <div
            *ngIf="loading$ | async; else noProjects"
            class="card-body display-flex flex-flow-col flex-align-center justify-content-center"
            appFillElement
            [paddingBottom]="30"
          >
            <kendo-loader
              type="infinite-spinner"
              themeColor="primary"
              size="large"
            />
            <h2 class="k-loading-panel-text">
              {{ "General.Loading" | translate }}...
            </h2>
          </div>
          <ng-template #noProjects>
            <div class="card-body tx-center pd-y-20">
              {{ "Projects.NoProjectsFound" | translate }}
            </div>
          </ng-template>
        </div>
      </div>
      <div
        *ngFor="let project of projects | projectSort : 'modified'"
        class="col-lg-3 col-md-4 col-sm-6"
      >
        <a [routerLink]="['/projects', project.id, 'view']">
          <div class="card">
            <div class="card-body">
              <div style="min-height: 100px">
                <div class="tx-14 tx-semibold">{{ project.title }}</div>
                <div class="tx-10">
                  {{ project.category | categoryLabel }}
                </div>
              </div>
              <div class="tx-right tx-10 tx-gray-600">
                {{ project.lastModified | editedDateText }}
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
