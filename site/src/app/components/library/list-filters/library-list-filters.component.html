<div class="card border border-1 bd-gray-400">
  <div
    class="card-header pd-y-4 pd-x-10 bg-gray-200 d-flex flex-align-center pointer"
    (click)="expanded.set(!expanded())"
  >
    {{ "Wbs.LibraryFilters" | translate }}
    <div class="flex-fill text-end">
      <button class="btn btn-sm btn-clear">
        <fa-icon [icon]="expanded() ? upIcon : downIcon" />
      </button>
    </div>
  </div>
  <div
    class="card-body pd-10 filter-wrapper"
    [ngClass]="{ 'filter-collapsed': !expanded() }"
  >
    <div class="d-block d-md-flex mg-b-15 flex-align-end" style="gap: 50px">
      @if (showLibrary()) {
      <div class="flex-1 pd-t-5">
        <div class="d-md-inline-block fw-bold mg-r-10 fs-6 wd-100p wd-md-100">
          {{ "General.Library" | translate }}:
        </div>
        <wbs-library-filter
          [buttons]="libraryFilters()"
          [selection]="library()"
          (selectionChanged)="libraryChanged($event)"
        />
      </div>
      }
      <div class="flex-1 pd-t-5">
        <div class="d-md-inline-block fw-bold mg-r-10 fs-6 wd-100p wd-md-100">
          {{ "General.Types" | translate }}:
        </div>
        <wbs-library-filter
          selectionMode="multiple"
          [buttons]="FILTERS_TYPE"
          [selection]="typeFilters()"
          (selectionChanged)="typeChanged($event)"
        />
      </div>
      @if (showAssociations()) {
      <div class="flex-1 pd-t-5">
        <div class="d-md-inline-block fw-bold mg-r-10 fs-6 wd-100p wd-md-100">
          {{ "General.Association" | translate }}:
        </div>
        <wbs-library-filter
          selectionMode="multiple"
          [buttons]="FILTERS_ROLES"
          [selection]="authorFilters()"
          (selectionChanged)="roleChanged($event)"
        />
      </div>
      }
    </div>
    @if (showSearch()) {
    <wbs-library-search [(searchText)]="searchText" />
    }
  </div>
</div>
